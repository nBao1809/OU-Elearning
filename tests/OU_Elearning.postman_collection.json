{
	"info": {
		"_postman_id": "your-generated-id",
		"name": "OU E-Learning API Tests",
		"description": "API test collection for OU E-Learning platform",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Admin Login",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "username",
									"value": "{{admin_email}}",
									"type": "text"
								},
								{
									"key": "password",
									"value": "{{admin_password}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/login-admin",
							"host": ["{{base_url}}"],
							"path": ["login-admin"]
						}
					}
				},
				{
					"name": "Student Login",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "username",
									"value": "{{student_email}}",
									"type": "text"
								},
								{
									"key": "password",
									"value": "{{student_password}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/login",
							"host": ["{{base_url}}"],
							"path": ["login"]
						}
					}
				},
				{
					"name": "Instructor Login",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "username",
									"value": "{{teacher_email}}",
									"type": "text"
								},
								{
									"key": "password",
									"value": "{{teacher_password}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/login",
							"host": ["{{base_url}}"],
							"path": ["login"]
						}
					}
				},
				{
					"name": "Logout",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/logout",
							"host": ["{{base_url}}"],
							"path": ["logout"]
						}
					}
				}
			]
		},
		{
			"name": "Courses",
			"item": [
				{
					"name": "Get All Courses",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/courses",
							"host": ["{{base_url}}"],
							"path": ["api", "courses"]
						}
					}
				},
				{
					"name": "Get Course Details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/course/1",
							"host": ["{{base_url}}"],
							"path": ["course", "1"]
						}
					}
				},
				{
					"name": "Get Course Modules",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/course/1/modules",
							"host": ["{{base_url}}"],
							"path": ["api", "course", "1", "modules"]
						}
					}
				}
			]
		},
		{
			"name": "Enrollments",
			"item": [
				{
					"name": "Enroll Free Course",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/register_free_course/1",
							"host": ["{{base_url}}"],
							"path": ["api", "register_free_course", "1"]
						}
					}
				},
				{
					"name": "Get My Courses",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/my-courses",
							"host": ["{{base_url}}"],
							"path": ["my-courses"]
						}
					}
				}
			]
		},
		{
			"name": "Reviews",
			"item": [
				{
					"name": "Get Course Reviews",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/course/1/reviews",
							"host": ["{{base_url}}"],
							"path": ["api", "course", "1", "reviews"]
						}
					}
				},
				{
					"name": "Add Review",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"rating\": 5,\n    \"content\": \"Khóa học rất hay!\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/review/1",
							"host": ["{{base_url}}"],
							"path": ["api", "review", "1"]
						}
					}
				},
				{
					"name": "Update Review",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"rating\": 4,\n    \"content\": \"Cập nhật đánh giá khóa học\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/review/1",
							"host": ["{{base_url}}"],
							"path": ["api", "review", "1"]
						}
					}
				},
				{
					"name": "Delete Review",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/review/1",
							"host": ["{{base_url}}"],
							"path": ["api", "review", "1"]
						}
					}
				}
			]
		},
		{
			"name": "Comments",
			"item": [
				{
					"name": "Get Course Comments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/course/1/comments",
							"host": ["{{base_url}}"],
							"path": ["api", "course", "1", "comments"]
						}
					}
				},
				{
					"name": "Add Comment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"content\": \"Câu hỏi về bài học\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/comment/1",
							"host": ["{{base_url}}"],
							"path": ["api", "comment", "1"]
						}
					}
				},
				{
					"name": "Update Comment",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"content\": \"Cập nhật nội dung bình luận\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/comment/1",
							"host": ["{{base_url}}"],
							"path": ["api", "comment", "1"]
						}
					}
				},
				{
					"name": "Delete Comment",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/comment/1",
							"host": ["{{base_url}}"],
							"path": ["api", "comment", "1"]
						}
					}
				}
			]
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Create Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"course_id\": 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/payment/create",
							"host": ["{{base_url}}"],
							"path": ["payment", "create"]
						}
					}
				},
				{
					"name": "Get Payment History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/payment/history",
							"host": ["{{base_url}}"],
							"path": ["payment", "history"]
						}
					}
				}
			]
		},
		{
			"name": "User Profile",
			"item": [
				{
					"name": "Get Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/user/profile",
							"host": ["{{base_url}}"],
							"path": ["user", "profile"]
						}
					}
				},
				{
					"name": "Update Profile",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Updated Name\",\n    \"email\": \"updated@email.com\",\n    \"current_password\": \"student123\",\n    \"new_password\": \"newpassword\",\n    \"avatar_url\": \"https://example.com/avatar.jpg\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/user/profile",
							"host": ["{{base_url}}"],
							"path": ["user", "profile"]
						}
					},
					"description": "Update user profile information. All fields are optional.\n\nFields:\n- name: User's display name\n- email: User's email address (must be unique)\n- current_password: Current password (required when changing password)\n- new_password: New password (required when changing password)\n- avatar_url: URL to user's avatar image\n\nResponses:\n- 200: Profile updated successfully\n- 400: Invalid data or email already exists\n- 401: Unauthorized\n- 404: User not found\n- 500: Server error"
				},
				{
					"name": "Delete Profile",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"password\": \"newpassword\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/user/profile",
							"host": ["{{base_url}}"],
							"path": ["user", "profile"]
						}
					},
					"description": "Delete user account. Requires password confirmation.\n\nRequest Body:\n- password: Current password for confirmation\n\nResponses:\n- 200: Account deleted successfully\n- 400: Missing password or has active courses (for instructors)\n- 401: Invalid password\n- 404: User not found\n- 500: Server error"
				}
			]
		},
		{
			"name": "Progress",
			"item": [
				{
					"name": "Get Course Progress",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/progress/1",
							"host": ["{{base_url}}"],
							"path": ["api", "progress", "1"]
						}
					}
				},
				{
					"name": "Update Progress",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"course_id\": 1,\n    \"lesson_id\": 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/progress/update",
							"host": ["{{base_url}}"],
							"path": ["api", "progress", "update"]
						}
					}
				},
				{
					"name": "Get Student Progress",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"student_ids\": [1, 2, 3]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/student/progress/6",
							"host": ["{{base_url}}"],
							"path": ["student", "progress", "6"]
						},
						"description": "Get progress information for multiple students in a course.\n\nRequest Body:\n- student_ids: Array of student IDs\n\nResponse:\n- course: Course information (id, title, total modules)\n- modules: List of course modules with ordering\n- students: Array of student progress data including enrollment details"
					}
				}
			]
		},
		{
			"name": "Auth",
			"item": [
				{
					"name": "Check Auth Status",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/auth/check",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "check"]
						}
					}
				}
			]
		},

		{
			"name": "Modules",
			"item": [
				{
					"name": "Get Module Details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/course/1/modules",
							"host": ["{{base_url}}"],
							"path": ["api", "course", "1", "modules"]
						}
					}
				},
				{
					"name": "Create Module",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Introduction to Programming\",\n    \"description\": \"Basic concepts of programming\",\n    \"course_id\": 1,\n    \"order\": 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/modules",
							"host": ["{{base_url}}"],
							"path": ["api", "modules"]
						}
					}
				},
				{
					"name": "Update Module",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Updated Module Title\",\n    \"description\": \"Updated module description\",\n    \"order\": 2\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/modules/1",
							"host": ["{{base_url}}"],
							"path": ["api", "modules", "1"]
						}
					}
				},
				{
					"name": "Delete Module",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/modules/1",
							"host": ["{{base_url}}"],
							"path": ["api", "modules", "1"]
						}
					}
				}
			]
		},
		{
			"name": "Lessons",
			"item": [
				{
					"name": "Get Module Lessons",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/modules/1/lessons",
							"host": ["{{base_url}}"],
							"path": ["api", "modules", "1", "lessons"]
						}
					}
				},
				{
					"name": "Get Lesson Details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/lesson/1",
							"host": ["{{base_url}}"],
							"path": ["api", "lesson", "1"]
						}
					}
				},
				{
					"name": "Create Lesson",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Variables and Data Types\",\n    \"content\": \"Lesson content about variables\",\n    \"module_id\": 1,\n    \"order\": 1,\n    \"video_url\": \"https://example.com/video.mp4\",\n    \"duration\": 30\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/lesson",
							"host": ["{{base_url}}"],
							"path": ["api", "lesson"]
						}
					}
				},
				{
					"name": "Update Lesson",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Updated Lesson Title\",\n    \"content\": \"Updated lesson content\",\n    \"order\": 2,\n    \"video_url\": \"https://example.com/updated-video.mp4\",\n    \"duration\": 45\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/lesson/1",
							"host": ["{{base_url}}"],
							"path": ["api", "lesson", "1"]
						}
					}
				},
				{
					"name": "Delete Lesson",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/lesson/1",
							"host": ["{{base_url}}"],
							"path": ["api", "lesson", "1"]
						}
					}
				}
			]
		},
		{
			"name": "VNPAY",
			"item": [
				{
					"name": "Create Payment URL",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"amount\": 1000000,\n    \"course_id\": 1,\n    \"bank_code\": \"NCB\",\n    \"language\": \"vn\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/payment/vnpay/create-payment-url",
							"host": ["{{base_url}}"],
							"path": ["api", "payment", "vnpay", "create-payment-url"]
						}
					}
				},
				{
					"name": "Payment Return",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/payment/vnpay/payment-return?vnp_Amount=1000000&vnp_BankCode=NCB&vnp_OrderInfo=Thanh toan khoa hoc",
							"host": ["{{base_url}}"],
							"path": ["api", "payment", "vnpay", "payment-return"],
							"query": [
								{
									"key": "vnp_Amount",
									"value": "1000000"
								},
								{
									"key": "vnp_BankCode",
									"value": "NCB"
								},
								{
									"key": "vnp_OrderInfo",
									"value": "Thanh toan khoa hoc"
								}
							]
						}
					}
				},
				{
					"name": "Payment IPN",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/payment/vnpay/payment-ipn?vnp_Amount=1000000&vnp_BankCode=NCB&vnp_OrderInfo=Thanh toan khoa hoc",
							"host": ["{{base_url}}"],
							"path": ["api", "payment", "vnpay", "payment-ipn"],
							"query": [
								{
									"key": "vnp_Amount",
									"value": "1000000"
								},
								{
									"key": "vnp_BankCode",
									"value": "NCB"
								},
								{
									"key": "vnp_OrderInfo",
									"value": "Thanh toan khoa hoc"
								}
							]
						}
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		}
	]
}
